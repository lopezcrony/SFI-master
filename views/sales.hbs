<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sales</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/sweetalert2.css">
	<link rel="stylesheet" href="css/material.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link rel="stylesheet" href="css/material-design-iconic-font.min.css">
	<link rel="stylesheet" href="css/jquery.mCustomScrollbar.css">
	<link rel="stylesheet" href="css/main.css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="js/jquery-1.11.2.min.js"><\/script>')</script>
	<script src="js/material.min.js"></script>
	<script src="js/sweetalert2.min.js"></script>
	<script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="js/main.js"></script>

</head>

<body>
	<!-- Notifications area -->
	{{>notifications }}
	<!-- navBar -->
	{{>navBar }}
	<!-- navLateral -->
	{{>navLateral }}
	<!-- pageContent -->


	<section class="full-width pageContent mt-4">
		{{!-- CRUD --}}
		<div id="wrapper">
			<div id="content-wrapper" class="d-flex flex-column">
				<div id="content">
					<div class="container-fluid">
						<div class="card shadow mb-4">
							<div class="card-header py-3 d-flex justify-content-between">

								<div class="col-7">
									<h4 class="d-flex justify-content px-5 ">VENTAS</h4>
								</div>
								<div class="col-5 d-flex justify-content-end py-4">

									<a href="./newSale" class=""><button type="submit" class="btn btn-dark px-4"><i
												class="bi bi-file-earmark-bar-graph"></i> Historico Ventas</button></a>
								</div>
							</div>

							<section class="full-width">
								<div class="card-body">
									<div class="mdl-grid">
										<div
											class="mdl-cell mdl-cell--4-col-phone mdl-cell--8-col-tablet mdl-cell--12-col-desktop">
											<div class="row">
												<div class="col-12">
													<div class="card border-primary py-3" ;
														style="height: 440px; display: static; overflow-y: scroll; max-height: 440px;  float: left; width: 65%;">
														<div class="row">
															<div class="col-8 m-0 ">
																<nav class="navbar navbar-light bg-light">
																	<form class="form-inline d-flex col-12 p-3">
																		<input class="form-control mr-sm-2"
																			type="search" placeholder="Buscar Productos"
																			aria-label="Search">
																	</form>
																</nav>
															</div>
															<div class="col-4 my-2 py-3 d-flex justify-content ">
																<button class="btn btn-outline-dark py-1">+</i>
																</button>
															</div>

														</div>


														<table class="table table-striped">
															<thead>
																<tr>
																	<th scope="col">#</th>
																	<th scope="col">Nombre</th>
																	<th scope="col">Cantidad</th>
																	<th scope="col">Subtotal</th>
																	<th scope="col">Total</th>
																	<th></th>
																</tr>
															</thead>
															<tbody>
																<tr>
																	<th scope="row">1</th>
																	<td>Leche Colanta 1L</td>
																	<td>2</td>
																	<td>3600</td>
																	<td>7200</td>
																	<td>
																		<button class="btn btn-outline-info py-1">+</i>
																		</button>
																		<button class="btn btn-outline-warning py-1">-
																		</button>
																		<button class="btn btn-outline-danger py-1"><i
																				class="bi bi-trash-fill"></i></button>
																	</td>
																</tr>
																<tr>
																	<th scope="row">2</th>
																	<td>Chocolate Tesalia <br> pastilla X2</td>
																	<td>4</td>
																	<td>700</td>
																	<td>2800</td>
																	<td>
																		<button class="btn btn-outline-info py-1">+</i>
																		</button>
																		<button class="btn btn-outline-warning py-1">-
																		</button>
																		<button class="btn btn-outline-danger py-1"><i
																				class="bi bi-trash-fill"></i></button>
																	</td>
																</tr>
																<tr>
																	<th scope="row">1</th>
																	<td>Leche Colanta 1L</td>
																	<td>2</td>
																	<td>3600</td>
																	<td>7200</td>
																	<td>
																		<button class="btn btn-outline-info py-1">+</i>
																		</button>
																		<button class="btn btn-outline-warning py-1">-
																		</button>
																		<button class="btn btn-outline-danger py-1"><i
																				class="bi bi-trash-fill"></i></button>
																	</td>
																</tr>
																<tr>
																	<th scope="row">1</th>
																	<td>Leche Colanta 1L</td>
																	<td>2</td>
																	<td>3600</td>
																	<td>7200</td>
																	<td>
																		<button class="btn btn-outline-info py-1">+</i>
																		</button>
																		<button class="btn btn-outline-warning py-1">-
																		</button>
																		<button class="btn btn-outline-danger py-1"><i
																				class="bi bi-trash-fill"></i></button>
																	</td>
																</tr>

															</tbody>
														</table>
														<div class="card-body px-4" style="">

														</div>
													</div>
													<div class="card border-primary no-margin"
														style="height: 440px; display: static; overflow-y: scroll; max-height: 440px; float: left; width: 35%;">
														<div class="card-body m-0 ">
															<section>
																<div id="carrito">
																	<h6><b class="p-3">Datos de Venta</b><button
																			class="btn btn-outline-dark"
																			data-bs-toggle="modal"
																			data-bs-target="#createModal"
																			type="button">Nuevo Cliente</button>
																	</h6>
																	<div class="full-width divider-menu-h"></div>
																	<div class="full-width divider-menu-h"></div>


																	<div class="py-2">
																		<input type="checkbox" id="checkboxCreditos"
																			onchange="toggleCreditos()">
																		<label for="checkboxCreditos">Asignar
																			crédito</label>

																		<div id="creditosContainer"
																			style="display:none;">
																			<nav class="navbar navbar-light bg-light">
																				<form class="d-flex">
																					<input class="form-control mr-2"
																						type="search"
																						placeholder="Documento cliente"
																						aria-label="Search">
																				</form>
																				<button class="btn btn-outline-dark"
																					data-bs-toggle="modal"
																					data-bs-target="#viewModal2"
																					type="submit">Nuevo</button>
																			</nav>

																		</div>
																		<input type="text" class="form-control my-2"
																			placeholder="Ingrese nombre del cliente">
																	</div>

																	<div class="full-width divider-menu-h"></div>

																</div>
																<div class="full-width divider-menu-h"></div>
																<div>

																	<button type="button"
																		class="btn btn-dark col-12 m-2"
																		onclick="impresion()">Imprimir Factura</button>
																</div>

																<p><b>TOTAL:</b> 10.000 <br>
																	<b>PAGO:</b> 10.000 <br>
																	<b>DEVUELTA: </b>0
																</p>

																<div class="row py-2">
																	<div class="col-6">
																		<button class="btn btn-outline-danger col-12 "
																			onclick="cancelarVenta()">Cancelar</button>
																	</div>
																	<div class="col-6">
																		<button type="button"
																			class="btn btn-dark col-12 ">Finalizar
																			Venta</button>
																	</div>

																</div>
															</section>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</section>

						</div>
					</div>

				</div>
			</div>
		</div>
	</section>


	{{!-- ------------------------------------------- MODAL CREATE ------------------------------------------ --}}
	<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="exampleModalLabel">Nuevo Cliente</h1>
				</div>

				<div class="modal-body ">

					<form class="needs-validation row g-3 form" novalidate>
						<div class="col-md-6">
							<label for="inputName" class="form-label">Nombre<span class="text-danger"> * </span></label>
							<input type="text" class="form-control" id="inputName" pattern="[A-Za-záéíóúÁÉÍÓÚ\s]+" required>
							<div class="invalid-feedback">
								Por favor ingresa un nombre válido.
							</div>
						</div>
						<div class="col-md-6">
							<label for="inputLastName" class="form-label">Apellido<span class="text-danger"> *
								</span></label>
							<input type="text" class="form-control" id="inputLastName" pattern="[A-Za-záéíóúÁÉÍÓÚ\s]+" required>
							<div class="invalid-feedback">
								Por favor ingresa un apellido válido.
							</div>
						</div>
						<div class="col-md-6">
							<label for="inputIdentification" class="form-label">Cédula<span class="text-danger"> *
								</span></label>
							<input type="text" class="form-control" id="inputIdentification" pattern="[0-9]+" required>
							<div class="invalid-feedback">
								Por favor ingresa una cédula válida.
							</div>
						</div>
						<div class="col-md-6">
							<label for="inputPhone" class="form-label">Teléfono<span class="text-danger"> *
								</span></label>
							<input type="text" class="form-control" id="inputPhone" pattern="[0-9]+" required>
							<div class="invalid-feedback">
								Por favor ingresa un número de teléfono válido.
							</div>
						</div>
						<div class="col-12">
							<label for="inputAddress" class="form-label">Dirección<span class="text-danger"> *
								</span></label>
							<input type="text" class="form-control" id="inputAddress" required>
							<div class="invalid-feedback">
								Por favor ingresa una dirección válida.
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
							<button class="btn btn-primary submit-button" type="submit">Guardar</button>
						</div>
					</form>

				</div>

			</div>
		</div>
	</div>

	{{!-- ------------------------------------MODAL VIEW COMPROBANTE--------------------------------------------}}
	<div class="modal fade" id="viewModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-header">
					{{!-- <h1 class="modal-title fs-5" id="exampleModalLabel">VENTA</h1> --}}
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form action="">
						<div class="invoice-header">
							{{!-- style="height: 250pxpx; display: static; overflow-y: scroll; max-height: 370px; float:
							left; width: 100%;" --}}
							<div class="invoice-info">
								<h3 class="invoice-title">Productos</h3>
								<p class="invoice-date"><b>N° Venta: 001</b> </p>
								<p class="invoice-date"><b>Fecha/Hora: </b>12/03/2024 (6:40:12) </p>
								<p class="client-info"><b>Cliente: </b>Raul Díaz </p>
								<p class="client-info"><b>Telefono: </b>30012514</p>
								<p class="client-info"><b>Dirección: </b>Cr 38 #8a45</p>
								<div class="full-width divider-menu-h"></div>

								<table class="table table-striped">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">Nombre</th>
											<th scope="col">Cantidad</th>
											<th scope="col">Subtotal</th>
											<th scope="col">Total</th>

										</tr>
									</thead>
									<tbody>
										<tr>
											<th scope="row">1</th>
											<td>Leche Colanta 1L</td>
											<td>2</td>
											<td>3600</td>
											<td>7200</td>
										</tr>
										<tr>
											<th scope="row">2</th>
											<td>Chocolate Tesalia <br> pastilla X2</td>
											<td>4</td>
											<td>700</td>
											<td>2800</td>
										</tr>
									</tbody>
								</table>
								<div>
									<p><b>TOTAL: </b><span id="totalBalance">10000</span> </p>
									<div class="col-md-5">
										<p><b>Asignación de saldo</b></p>



										<div class="py-2">
											<input type="checkbox" id="checkboxSaldosACredito" class="form-check-input"
												onchange="toggleSaldoParcial()">
											<label for="checkboxSaldosACredito" class="form-check-label">
												Saldo Parcial
											</label>
										</div>

										<div id="SaldoParcialContainer" style="display:none;">
											<form action="" class="needs-validation form">
												<input type="text" id="partialvalue" oninput="calculateRemainingSaldo()"
													class="form-control m-2" placeholder="Ingrese el saldo"
													pattern="[0-9]+(\.[0-9]+)?">
												<div class="invalid-feedback" id="balanceResult">
													Por favor, ingrese un valor válido
												</div>
											</form>

										</div>
									</div>
								</div>
							</div>
					</form>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
						<button type="button" onclick="printInvoice()" class="btn btn-info"
							data-bs-dismiss="modal">Confirmar</button>
					</div>
				</div>

			</div>
		</div>
	</div>

	


</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/webcodecam/1.9.1/webcodecam.min.js"></script>
<script src="productos.json"></script>
<script src="js/sales.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="vendor/datatables/jquery.dataTables.min.js"></script>
<script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>
<script src="vendor/jquery/jquery.min.js"></script>
<script src="js/datatables.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="js/scripts.js"></script>

</html>